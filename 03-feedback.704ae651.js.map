{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAWH,SAASC,cAAc,YAClCG,EAAmB,sBACrBC,EAAO,GAsBX,SAASC,IACRD,EAAO,CACNE,MAAOR,EAAKS,SAASD,MAAME,MAC3BC,QAASX,EAAKS,SAASE,QAAQD,OAEhC,IACCE,aAAaC,QAAQR,EAAkBS,KAAKC,UAAUT,G,CACrD,MAAOU,GACRC,QAAQD,MAAM,oBAAqBA,EAAML,Q,EAI3C,SAASO,IACR,IACC,IAAMC,EAAYP,aAAaQ,QAAQf,GACvC,OAAqB,OAAdc,OAAqBE,EAAYP,KAAKQ,MAAMH,E,CAClD,MAAOH,GACRC,QAAQD,MAAM,cAAeA,EAAML,Q,EArCrCY,OAAOC,iBAAiB,QAIxB,WACC,IAAMC,EAAYP,IACdO,IACHtB,EAAMO,MAAQe,EAAUjB,MACxBJ,EAASM,MAAQe,EAAUd,Q,IAP7BX,EAAKwB,iBAAiB,QAASE,EAAA5B,GAAE6B,SAASpB,EAAW,IAAK,CAAEqB,UAAU,KACtE5B,EAAKwB,iBAAiB,UAUtB,SAAqBK,GACpBA,EAAIC,iBACJvB,IACAU,QAAQc,IAAIb,KACZN,aAAaoB,WAAW3B,GACxBL,EAAKiC,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector(\".feedback-form\");\nconst input = document.querySelector(\"input\");\nconst textArea = document.querySelector(\"textarea\");\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\nlet data = {};\n\nwindow.addEventListener(\"load\", loadData);\nform.addEventListener(\"keyup\", _.throttle(storeData, 500, { trailing: true }));\nform.addEventListener(\"submit\", saveMessage);\n\nfunction loadData() {\n\tconst savedData = retrieveData();\n\tif (savedData) {\n\t\tinput.value = savedData.email;\n\t\ttextArea.value = savedData.message;\n\t}\t\n}\n\nfunction saveMessage(evt) {\n\tevt.preventDefault();\n\tstoreData();\n\tconsole.log(retrieveData());\n\tlocalStorage.removeItem(LOCALSTORAGE_KEY);\n\tform.reset();\n}\n\nfunction storeData() {\n\tdata = {\n\t\temail: form.elements.email.value,\n\t\tmessage: form.elements.message.value\n\t};\n\ttry {\n\t\tlocalStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(data));\n\t} catch (error) {\n\t\tconsole.error(\"Set state error: \", error.message);\n\t}\n}\n\nfunction retrieveData() {\n\ttry {\n\t\tconst loadedKey = localStorage.getItem(LOCALSTORAGE_KEY);\n\t\treturn loadedKey === null ? undefined : JSON.parse(loadedKey);\n\t} catch (error) {\n\t\tconsole.error(\"Get error: \", error.message);\n\t}\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$input","$b00c40859be242c5$var$textArea","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$data","$b00c40859be242c5$var$storeData","email","elements","value","message","localStorage","setItem","JSON","stringify","error","console","$b00c40859be242c5$var$retrieveData","loadedKey","getItem","undefined","parse","window","addEventListener","savedData","$parcel$interopDefault","throttle","trailing","evt","preventDefault","log","removeItem","reset"],"version":3,"file":"03-feedback.704ae651.js.map"}