{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAWH,SAASC,cAAc,YAExC,IAAIG,EAAO,GAsBX,SAASC,IACRD,EAAO,CACNE,MAAOP,EAAKQ,SAASD,MAAME,MAC3BC,QAASV,EAAKQ,SAASE,QAAQD,OAEhC,IACCE,aAAaC,QA7BU,sBA6BgBC,KAAKC,UAAUT,G,CACrD,MAAOU,GACRC,QAAQD,MAAM,oBAAqBA,EAAML,Q,EAI3C,SAASO,IACR,IACC,MAAMC,EAAYP,aAAaQ,QArCR,uBAsCvB,OAAqB,OAAdD,OAAqBE,EAAYP,KAAKQ,MAAMH,E,CAClD,MAAOH,GACRC,QAAQD,MAAM,cAAeA,EAAML,Q,EArCrCY,OAAOC,iBAAiB,QAIxB,WACC,MAAMC,EAAYP,IACdO,IACHrB,EAAMM,MAAQe,EAAUjB,MACxBH,EAASK,MAAQe,EAAUd,Q,IAP7BV,EAAKuB,iBAAiB,QAASE,EAAA3B,GAAE4B,SAASpB,EAAW,IAAK,CAAEqB,UAAU,KACtE3B,EAAKuB,iBAAiB,UAUtB,SAAqBK,GACpBA,EAAIC,iBACJvB,IACAU,QAAQc,IAAIb,KACZN,aAAaoB,WAnBW,uBAoBxB/B,EAAKgC,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector(\".feedback-form\");\nconst input = document.querySelector(\"input\");\nconst textArea = document.querySelector(\"textarea\");\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\nlet data = {};\n\nwindow.addEventListener(\"load\", loadData);\nform.addEventListener(\"keyup\", _.throttle(storeData, 500, { trailing: true }));\nform.addEventListener(\"submit\", saveMessage);\n\nfunction loadData() {\n\tconst savedData = retrieveData();\n\tif (savedData) {\n\t\tinput.value = savedData.email;\n\t\ttextArea.value = savedData.message;\n\t}\t\n}\n\nfunction saveMessage(evt) {\n\tevt.preventDefault();\n\tstoreData();\n\tconsole.log(retrieveData());\n\tlocalStorage.removeItem(LOCALSTORAGE_KEY);\n\tform.reset();\n}\n\nfunction storeData() {\n\tdata = {\n\t\temail: form.elements.email.value,\n\t\tmessage: form.elements.message.value\n\t};\n\ttry {\n\t\tlocalStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(data));\n\t} catch (error) {\n\t\tconsole.error(\"Set state error: \", error.message);\n\t}\n}\n\nfunction retrieveData() {\n\ttry {\n\t\tconst loadedKey = localStorage.getItem(LOCALSTORAGE_KEY);\n\t\treturn loadedKey === null ? undefined : JSON.parse(loadedKey);\n\t} catch (error) {\n\t\tconsole.error(\"Get error: \", error.message);\n\t}\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$input","$945622fd0f572e60$var$textArea","$945622fd0f572e60$var$data","$945622fd0f572e60$var$storeData","email","elements","value","message","localStorage","setItem","JSON","stringify","error","console","$945622fd0f572e60$var$retrieveData","loadedKey","getItem","undefined","parse","window","addEventListener","savedData","$parcel$interopDefault","throttle","trailing","evt","preventDefault","log","removeItem","reset"],"version":3,"file":"03-feedback.80552c0a.js.map"}